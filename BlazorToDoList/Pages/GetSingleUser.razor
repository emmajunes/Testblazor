@page "/singleuser"

@using BlazorToDoList.Data;
@using BlazorToDoList.Services;
@using ToDoList.API;
@inject UserService UserService;
@inject NavigationManager NavigationManager;

<h3>Welcome @currentUser.Username</h3>

<br />
Username:@currentUser.Username
<br/>
Email:@currentUser.Email
<br/>
Access:@currentUser.Access
<br />
<br/>
<a href="" @onclick="@(()=> NavigationManager.NavigateTo("/currentuserlists"))" @onclick:preventDefault class="btn btn-primary">View your lists</a>
<a href="" @onclick="@(()=> NavigationManager.NavigateTo("/edituser"))" @onclick:preventDefault class="btn btn-primary">Edit your profile</a>



@code {

    private UserItem currentUser = new();


    protected override async Task OnInitializedAsync()
    {
        //var userId = CurrentRecord.Id["UserId"];

        currentUser = await UserService.GetIndividualUserAsync(); //funkar men ska jag använda den även när en admin klickar på en user?
    }
}
