@page "/DeleteList"
@using BlazorToDoList.Data;
@using BlazorToDoList.Services;
@using ToDoList.API;
@inject IListService ListService;
@inject NavigationManager NavigationManager;

<h3>DeleteList</h3>

Do you want to delete this list?
<EditForm Model="@listItem" OnSubmit="@OnSubmit">
    <button type="submit">Yes</button>
</EditForm>
<a href="" @onclick="@(()=> NavigationManager.NavigateTo("/currentuserlists"))" @onclick:preventDefault class="btn btn-primary">No</a>

@code {
    private ToDoListItem listItem = new();

    public async Task OnSubmit()
    {
       //behöver jag ändra något för om en admin ska välja?
        listItem = await ListService.DeleteListAsync();
        NavigationManager.NavigateTo("/currentuserlists", true);    
    }
}
